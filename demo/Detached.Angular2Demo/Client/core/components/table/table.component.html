<div style="width:100%" sizeChanged (onSizeChanged)="sizeChanged($event)">
    <div class="d-table-container">
        <div class="d-table-row d-table-header">
            <div class="d-table-cell d-table-selector">
                <md-checkbox [(ngModel)]="allSelected"></md-checkbox>
            </div>
            <div *ngFor="let column of columns" sizeChanged (onSizeChanged)="column.sizeChanged($event)"
                 [ngClass]="{ 'd-table-cell': true,
                              'd-table-sortable': column.canSort,
                              'd-table-sorted-asc': dataSource.orderBy==column.property && dataSource.sortDirection == 0,
                              'd-table-sorted-desc': dataSource.orderBy==column.property && dataSource.sortDirection == 1,
                              'd-table-cell-text': column.type == 1,
                              'd-table-cell-number': column.type == 2,
                              'd-table-cell-template': column.type == 3,
                              'd-table-column-invisible': !column.visible }"
                 [ngStyle]="{ 'width': column.clientSize }"
                 (click)="toggleSort(column)">
                <span>{{column.title}}</span><span class="material-icons d-table-sort-arrow">arrow_upward</span>
            </div>
        </div>
        <div *ngFor="let item of items; let index = index;"
             [ngClass]="{ 'd-table-row': true,
                      'd-table-selected': item.selected }">

            <div class="d-table-cell d-table-selector">
                <md-checkbox [(ngModel)]="item.selected"></md-checkbox>
            </div>

            <div *ngFor="let column of columns"
                 [ngClass]="{ 'd-table-cell': true,
                          'd-table-cell-text': column.type == 1,
                          'd-table-cell-number': column.type == 2,
                          'd-table-cell-template': column.type == 3,
                          'd-table-column-invisible': !column.visible }"
                 [ngStyle]="{ 'width': column.clientSize }">
                <d-content [condition]="column.template" [template]="column.template" [model]="item.model" [index]="index"></d-content>
                <span *ngIf="!column.template">{{item.model[column.property]}}</span>
            </div>
        </div>
    </div>
</div>